!nocache
!if $oef_test=yes
 !set renewlink=cmd=next&retest=again
 !!$header_js
 !goto tester
!else
 !set init_parm=!translate + to $ $ in $module_init_parm
 !set init_parm=!replace internal $\
$ by ; in $init_parm
 !set renewlink=cmd=renew&worksheet=$worksheet&$init_parm
!endif

!if $printing=yes
 !changeto oef/print.phtml
!endif

!if $title!=$empty
 !set module_title=$title
 !set module_author=$author
 !set module_address=$email
!endif

!if 0$delay2>0 and $status!=$empty
 !set now_=$wims_nowseconds
 !read js/chrono.phtml $[max(0,$delay1-($now_-$starttime))]
!endif
!set wims_html_header=!append line $header_js to $wims_html_header
!set wims_html_header=$oefcss \
$wims_html_header

!header1
<h1 class="oeftitle">$title</h1>

!if $module_checkdata!=yes
 !read oef/$module_language/nodata.phtml
 !goto end
!endif

!if $title=$empty
Deze module bevat een hele verzameling aan oefeningen.<br>
 Je hebt deze blijkbaar aangevraagd zonder te specificeren aan welke
 oefening je precies wilt gaan werken.<br> 
<small>Dit komt misschien omdat je op een verkeerde link hebt geklikt,                                                                     
of misschien een software fout ?</small>
<br><center>
Probeer
 !href module=$module opnieuw
 , of
 !href $ annuleer
 . </center>
 !goto end
!endif

!if 0$delay1>0 and $status!=$empty
 <br><form target="#" name=chrono><center>
 <table border=2 bgcolor="$wims_ref_bgcolor"><tr><td>
 &nbsp;<b><font color=red>Attentie !</font></b>
 !if $qnum>1
    Deze serie oefeningen heeft een tijdslimiet.
 !else
    Deze oefening heeft een tijdslimiet.
 !endif
 <input size=4 name=clock readonly onFocus="this.blur()";>
 </table>
 </center></form> <br>
!endif

:tester
!read oef/present.phtml

<center><hr width="50%"></center>

!if $cmd=hint
 !read oef/hint.phtml
 !goto end
!endif

!if $status=waiting
 !if $error!=$empty
  !read oef/msg.phtml
  <center><hr width="50%"></center>
 !endif
 !read oef/form.phtml
 <br>
 !if $hint!=$empty and $givehint>0
  !href cmd=hint Hint
.
 !endif
 !if $help!=$empty
  !href cmd=help Help
.
 !endif
 !if $qnum<=1
  !href $renewlink Herhaal
 deze oefening.
 !else
  Dit is de $[$reply_cnt+1] oefening uit een serie van $qnum.
  Ga door met 
  !href $renewlink deze serie
.
 !endif
!else
 !if $error!=$empty
  !read oef/msg.phtml
  <center><hr width="50%"></center>
 !endif
 !read oef/answer.phtml
 <br>
 !if $status!=$empty
 Dit is de $reply_cnt oefening uit een serie van $qnum. <br>
 Ga door naar de
  !href cmd=next volgende
   of 
  !href $renewlink herhaal
  dezelfde oefening (er wordt pas aan het eind van de reeks een cijfer gegeven).
 !else
  !if $qnum>1
    U heeft een reeks van $qnum oefeningen afgerond, met een cijfer
   $module_score uit 10.
   !ifval $module_score>9.8
    Gefeliciteerd !
   !endif
   !if $toolate!=$empty and $score>$module_score
    (U krijgt strafpunten voor het overschrijden van de tijdslimiet.)
   !endif
   <br>
   !href $renewlink Herhaal
   de hele serie.
   !if $wims_sheet=$empty
    !href exo_Intro
.
   !endif
  !else
   Uw cijfer is een $module_score uit 10.
   !ifval $module_score>9.8
    Gefeliciteerd !
   !endif
   !if $toolate!=$empty and $score>$module_score
    (U hebt strafpunten gekregen voor het overschrijden van de tijdslimiet.)
   !endif
   <br>
   !href $renewlink Herhaal 
   dezelfde oefening.
   !if $wims_sheet=$empty and $oef_test!=yes
    !href exo_Intro
.
   !endif
  !endif
 !endif
!endif

!if $replydefaulted=yes
 <br> <small>
 Experimenteer mode:
 !if $oef_default=yes
    de goede antwoorde zijn reeds ingevuld
 !else
    vul de 
  !href cmd=config&oef_default=yes  goede antwoorden
  alvast in.
 !endif
 </small>
!endif

!read ./endhook.phtml
!!!if $wims_user=supervisor and exam notin $session and \
!!	..classes/ notin ..$module and ..adm/ notin ..$module and \
!!	..devel/ notin ..$module and \
!!	GNU isin $module_copyright and \
!!	_check notin $session and \
!!	$class_importation!=no
!! <br>
!! !href module=adm/createxo&existing=$thisexo&catmodule=$module Importeer
!!  deze oefening in uw eigen klas. Daar kan de broncode eenvoudig worden aangepast.
!!!endif
:end
!tail


