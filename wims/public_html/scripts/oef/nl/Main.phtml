!nocache
!if $oef_test=yes
 !set renewlink=cmd=resume&retest=again
 $header_js
 !goto tester
!else
 !set renewlink=cmd=renew&worksheet=$worksheet&$module_init_parm
!endif

!if $printing=yes
 !changeto oef/print.phtml
!endif

!if $title!=$empty
 !set module_title=$title
 !set module_author=$author
 !set module_address=$email
!endif

!if 0$delay2>0 and $status!=$empty
 !set now_=!date '+%s'
 !read js/chrono.js $[max(0,$delay1-($now_-$starttime))]
!endif

!header

!if $title=$empty
Deze module bevat een hele verzameling aan oefeningen.
<br>
Je hebt deze blijkbaar aangevraagd zonder te specificeren aan welke
oefening je precies wilt gaan werken.<br>
<small>Dit komt misschien omdat je op een verkeerde link hebt geklikt, 
of misschien een software fout ?</small>
 <p><center>
 !href module=$module Probeer het eens opnieuw
 , of
 !href $ einde oefening...
 . </center>
 !goto end
!endif

!if 0$delay1>0 and $status!=$empty
 <p><form target=# name=chrono><center>
 <table border=2 bgcolor=$wims_ref_bgcolor><tr><td>
 &nbsp;<b><font color=red>Attentie!</font></b>
 !if $qnum>1
 Deze sessie is beperkt in tijdsduur

 !else
 Deze oefening is beperkt in tijdsduur
 !endif
 <input size=4 name=clock>
 </table>
 </center></form> <p>
!endif

:tester
!read oef/present.phtml
<center><hr width=50%></center>

!if $cmd=hint
 !read oef/hint.phtml
 !goto end
!endif

!if $status=waiting
 !if $error!=$empty
  !read oef/msg.phtml
  <center><hr width=50%></center>
 !endif
 !read oef/form.phtml
 <p>
 !if $hint!=$empty and $givehint>0
  !href cmd=hint Hint
.
 !endif
 !if $help!=$empty
  !href cmd=help Help
.
 !endif
 !if $qnum<=1
  !href $renewlink Hernieuw deze oefening
.
 !else
  Dit is oefening nummer $[$reply_cnt+1] in een sessie van $qnum opdrachten.
  !href $renewlink Verlaat deze sessie
.
 !endif
!else
 !if $error!=$empty
  !read oef/msg.phtml
  <center><hr width=50%></center>
 !endif
 !read oef/answer.phtml
 <p>
 !if $status!=$empty
 Dit is oefening nummer $reply_cnt in een sessie van $qnum opdrachten. <p>
  !href cmd=resume Ga door naar de volgende opdracht
, or
  !href $renewlink Velaat deze sessie en vraag een nieuw aan
. 
(je moet natuurlijk wel doorgaan tot het einde van een sessie om punten te scoren...)

 !else
  !if $qnum>1
   Je hebt net een sessie van $qnum oefeningen afgerond, met een eindresultaat van
   $module_score uit 10 punten.
   !ifval $module_score>9.8
    Gefeliciteerd!
   !endif
   !if $toolate!=$empty and $score>$module_score
    (je bent langer bezig geweest dan de ingestelde tijdslimiet, hiervoor worden je punten in mindering gebracht)
   !endif
   <p>
   !href $renewlink Opnieuw
.
   !if $wims_sheet=$empty
    !href exo_Intro
.
   !endif
  !else
  je hebt een eindresultaat geboekt van $module_score uit 10 punten.
   !ifval $module_score>9.8
   Heel Fijn!
   !endif
   !if $toolate!=$empty and $score>$module_score
(je bent langer bezig geweest dan de ingestelde tijdslimiet, hiervoor worden je punten in mindering gebracht)
   !endif
   <p>
   !href $renewlink Opnieuw
.
   !if $wims_sheet=$empty and $oef_test!=yes
    !href exo_Intro
.
   !endif
  !endif
 !endif
!endif

!if $replydefaulted=yes
 <p> <small>
 <b>Testmode</b>: de goede antwoorden staan reeds vermeld in het invulveld.
 </small>
!endif

!read ./endhook.phtml
!if $wims_user=supervisor and exam notin $session and \
	..classes/ notin ..$module and ..adm/ notin ..$module
 <p>
 !href module=adm/createxo&existing=$thisexo&catmodule=$module Importeer
 deze oefening in je eigen klas, zodat je deze naar eigen inzicht kan modificeren.
!endif
:end

!tail

