
!if $wims_read_parm!=slib_header
 !goto proc
!endif
slib_title=ThreeD Applet
slib_parms=2\
,data\
,option (for example : <tt>width=300 height=300 scale=0.8</tt>)
slib_author=Bernadette PERRIN-RIOU
slib_out= applet code for wireframe models ; based on the applet ThreeD \
(http://javaboutique.internet.com/ThreeD/)

slib_comment=The first parameter is the content of the file used for the applet ThreeD.\
The format for this file is (cube example)\
<pre>v 0 0 0\
v 1 0 0\
v 1 1 0\
v 0 1 0\
v 0 0 1\
v 1 0 1\
v 1 1 1\
v 0 1 1\
f 1 2 3 4\
f 5 6 7 8\
l 1 5\
l 2 6\
l 3 7\
l 4 8\
</pre>\
Allowed options are the followings:\
<br> <tt>scale</tt>\
<br> <tt>height</tt>\
<br> <tt>width</tt>\
<br>Defaults are: <tt>scale=0.8</tt>  <tt>height=300</tt> <tt>width=300</tt>

!exit

:proc
!default slib_cnt=0
slib_cnt= $[$slib_cnt +1]
slib_data = !item 1 of $wims_read_parm
slib_option= !item -1 of $wims_read_parm

!for slib_a in scale,width,height
  slib_$slib_a=!getopt $slib_a in $slib_option
!next slib_a

!default slib_scale=0.8
!default slib_width=300
!default slib_height=300

slib_data=!translate $	$ to $\
$ in $slib_data
slib_fichier=fichier.$slib_cnt

!readproc oef/togetfile.proc $slib_fichier new\
$slib_data
slib_out=$wims_ref_name?session=$session&cmd=getfile&special_parm=$slib_fichier

slib_out=<applet codebase=java code=ThreeD.class archive=ThreeD.jar width=$slib_width height=$slib_height>\
<param name=model value=$slib_out>\
<param name=scale value=$slib_scale>\
</applet>


