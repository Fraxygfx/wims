!if $wims_read_parm!=slib_header
 !goto proc
!endif
slib_title=Cut out embedded choices for OEF
slib_parms=1\
,the input text (embedding delimiter: `??')
slib_author=Gang Xiao
slib_out=Text output with each choice in isolated rows
slib_comment=This is improved from text/cutchoices, with the possibility\
for the cut field at the beginning of a line or immediately following another\
cut fields. It also allows (and translates to html code) the semi-colons\
embedded in the input.\
<p>For example, on the input text\
<p><tt>The class has ??3,5,6,7?? pupils with average score of ??20,30,40??\
</tt><p>\
will be transformed to\
<pre>\
The class has;3,5,6,7;pupils with average score of;20,30,40\
</pre>\
The lines of even numbers may then be singled out for creating embedded\
choices. <p>
!exit

:proc
slib_out=!lines2words $wims_read_parm
slib_out=!rows2lines $slib_out
slib_out=!replace internal $\
$ by &#59; in $slib_out
slib_out=!replace internal ?? by ; in $slib_out

