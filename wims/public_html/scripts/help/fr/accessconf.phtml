

<p class="wimscenter">Définition des restrictions d'accès</p>
<p>

Les définitions de restriction d'accès sont des données multi-ligne, exécutées ligne par ligne
dans l'ordre de la liste. Les restrictions affectent seulement les modules de ressources et 
non les modules administratifs.
Les lignes commençant par un <tt class="wims_code_words">#</tt> sont des commentaires.
<p>
Chaque ligne a le format <tt class="wims_code_words">[condition d'accès]:[conditions sur l'hôte]</tt>.
<p>
La condition d'accès est une liste de mots, qui sont ANDed. Les mots disponibles se trouvent 
dans le tableau suivant. Chaque mot peut être préfixé avec 
<tt class="wims_code_words">non</tt> pour inverser son sens logique.
<p>
$table_header
$table_tr</th><th>mot<th>signification</th></tr>
$table_tr<td>class</td><td>La connexion se fait dans une classe virtuelle.</td></tr>
$table_tr<td>com</td><td>Le module requis est dans la hiérarchie en dessous de com/.</td></tr>
$table_tr<td>document</td><td>Le module requis est un document. (not yet available)</td></tr>
$table_tr<td>exercise</td><td>Le module requis est un exercice.</td></tr>
$table_tr<td>hint</td><td>La requête concerne les aides.</td></tr>
$table_tr<td>local</td><td>Le module requis est dans la hiérarchie en dessous de local/.</td></tr>
$table_tr<td>recreation</td><td>Le module requis est une récreation.</td></tr>
$table_tr<td>tool</td><td>Le module requis est un outil.</td></tr>
$table_end <p>

Les conditions sur l'hôte peuvent être n'importe quelle définition d'hôte http, 
plus éventuellement la définition d'un temps pour les feuilles d'exercices. 
Si le premier caractère des conditions d'hôtes est <tt class="wims_code_words">!</tt>, 
l'hôte ou le temps remplissant ces conditions se verra refusé l'accès
(pour les ressources remplissant ces conditions).
Sinon, l'accès n'est autorisé que sous les conditions données
et les lignes suivantes dans la définition des 
restrictions seront ignorées pour celles remplissant les conditions.

<p><hr/></p>

!read help/hosts.phtml

<p><hr/></p>

Quelques exemples.
<p>
# Désactive l'utilisation d'outils à partir de 134.59.102.*
<br/><tt class="wims_code_words">tool:! 134.59.102.</tt>
<p>
# Désactive les appels aux indications à partir de localhost.
<br/><tt class="wims_code_words">hint:! 127.0.0.1</tt>
<p>
# Les personnes venant de wanadoo.fr et ayant un accès anonyme ne peuvent utiliser les récréations.
<br/><tt class="wims_code_words">recreation nonclass:! .wanadoo.fr</tt>
<p>
# Le travail dans une classe virtuelle est interdit à partir de localhost le jour de l'an 2004.
<br/><tt class="wims_code_words">class: ! 127.0.0.1 >20040101.00:00 <20040101.23:59</tt>
<p>

