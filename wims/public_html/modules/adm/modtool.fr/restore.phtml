!reset wims_deposit

!if $mode=bad_fname
$name_warning <p>
!endif

!if $mode=bad_arch
 $name_norecognize
 <p>
!endif

!if $mode=illegal
$name_illegal
 <p>
!endif

!if $mode=diffcheck
 !if $diff=$empty
  $name_diff1
 !else
  !if $diff=MANY
   $name_diff2
  !else
   $name_diff3:
   <pre>$diff</pre>
  !endif
 !endif
 !exit
!endif

!if $mode!=$empty and $mode iswordof prep bad_fname bad_arch illegal
 !set wims_form_method=file
 !form reply
 <input type=hidden name=jobreq value=restore>
 $name_restore:
 <input type=file name=wims_deposit size=40>
 <input type=submit value="$wims_name_tosave">
 <p>
 <small>$name_warning2
 </small>
 <p>
 <b>$wims_name_warning</b>. $name_warning_diff
 <input type=checkbox name=confirm value=diffcheck>
 $name_show_diff
</form>
!else
 $name_restored: <b>$ftest</b>, <small>$ftest2</small>
 <br>$wims_name_Address: <tt>$restored</tt>.
 <p>
 !href cmd=reply&jobreq=flist&modreq=$restored $name_gotowork
.
!endif

