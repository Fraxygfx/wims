<table class="wims_classes_direct">
 !for typ in portal,group,level,class,course,program,test
  !set nstyle=wims_classes_direct_$typ
  !set ntype_=$typ
  !set ntype_ = !replace internal program by $(CL_Name[3]) in $ntype_
  !set ntype_ = !replace internal level by $(CL_Name[1])  in $ntype_
  !set ntype_ = !replace internal class by $(CL_Name[2])  in $ntype_
  !set ntype_ = !replace internal course by $(CL_Name[4]) in $ntype_
  !set ntype_ = !replace internal portal by $(CL_Name[6]) in $ntype_
  !set ntype_ = !replace internal group by $(CL_Name[6]) in $ntype_
  !set ntype_ = !replace internal test by $(CL_Name[7]) in $ntype_
  !for cl in $(direct$typ)
   !distribute words $cl into c_,u_
   !set n_=!defof class_institution, class_description in\
 wimshome/log/classes/$c_/.def
   !if $u_=supervisor
    !set t_=supervisor
    !if $c_ notwordof $wims_supervise and $wims_realuser!=$wims_user
      !goto out
    !endif
   !else
    !set t_=$type
   !endif
  <tr class="$nstyle"><td class="wims_classes_direct_type">$ntype_</td>
  <td class="wims_classes_direct_name">

   !href cmd=reply&type=auth$t_&class=$c_&auth_user=$u__ $n_
   </td><td class="tt">$u__</td>
   </tr>
:out
 !reset c_ u_ t_
  !next cl
 !next typ
 </table>
