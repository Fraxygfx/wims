---------------------------------------------------<br>
Begin of new presentation portail main page for supervisor
                                         <p>

!set arr=--->

!let user_supervise=!defof user_supervise in wimshome/log/classes/$wims_superclass/.users/$wims_user
!! ----------- definition des droits de connexion supervisor

  <br>
!let compsup=$empty
!for cls in $user_supervise
 !let tmp=!replace internal / by , in $cls
 !let nb=!itemcnt $tmp
 !for l=2 to $nb
  !let t=!replace internal , by / in $(tmp[1 to $l])
  !let compsup=!append line $t to $compsup
 !next l
!next cls
!let compsup=!sh echo "$compsup" | sort | uniq;
!let compsup=!lines2items $compsup
!let compsup=!nospace $compsup

!let tab=&nbsp;&nbsp;&nbsp;&nbsp;
!let tab_level=$tab
!let tab_class=$tab$tab
!let tab_course=$tab$tab$tab
!let tab_program=$tab_class


!for cls in $compsup
 !let don=!defof class_typename,class_description,class_supervisor,class_parent in wimshome/log/classes/$cls/.def
 !let t=!positionof item $(don[1]) in level,class,program,course
 !if $t=4
  !let tmp=!defof class_typename in wimshome/log/classes/$(don[4])/.def
  !if $tmp=program
   !let t=5
  !endif
 !endif
 $(tab_$(don[1]))$arr <span class="wims_classes_direct_$(don[1])"> $(CL_Name[$t]) : 
 !if $cls notitemof $user_supervise
  $(don[2])
 !else
  !href module=adm/class/classes&type=authsupervisor&class=$num&auth_user=supervisor $(don[2])
 !endif
 ($(don[3])) </span> <p>
!next cls




